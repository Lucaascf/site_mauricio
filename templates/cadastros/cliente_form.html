{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}{{ title }} - Sistema de Gestão{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <!-- Header -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2><i class="fas fa-user-plus"></i> {{ title }}</h2>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="{% url 'core:dashboard' %}">Dashboard</a></li>
                            <li class="breadcrumb-item"><a href="{% url 'cadastros:cliente_list' %}">Clientes</a></li>
                            <li class="breadcrumb-item active">{{ action }}</li>
                        </ol>
                    </nav>
                </div>
                <div>
                    <a href="{% url 'cadastros:cliente_list' %}" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Voltar
                    </a>
                </div>
            </div>

            <!-- Formulário -->
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-edit"></i> Dados do Cliente
                    </h5>
                </div>
                <div class="card-body">
                    <form method="post" novalidate>
                        {% csrf_token %}
                        
                        <!-- Informações Básicas -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">
                                    <i class="fas fa-info-circle"></i> Informações Básicas
                                </h6>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label for="{{ form.CodCli.id_for_label }}" class="form-label">
                                    <i class="fas fa-hashtag"></i> Código Cliente *
                                </label>
                                {{ form.CodCli }}
                                {% if form.CodCli.errors %}
                                    <div class="text-danger">{{ form.CodCli.errors }}</div>
                                {% endif %}
                                {% if form.CodCli.help_text %}
                                    <small class="form-text text-muted">{{ form.CodCli.help_text }}</small>
                                {% endif %}
                            </div>
                            <div class="col-md-9 mb-3">
                                <label for="{{ form.RazaoSoc.id_for_label }}" class="form-label">
                                    <i class="fas fa-building"></i> Razão Social *
                                </label>
                                {{ form.RazaoSoc }}
                                {% if form.RazaoSoc.errors %}
                                    <div class="text-danger">{{ form.RazaoSoc.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.Cnpj.id_for_label }}" class="form-label">
                                    <i class="fas fa-id-card"></i> CNPJ
                                </label>
                                {{ form.Cnpj }}
                                {% if form.Cnpj.errors %}
                                    <div class="text-danger">{{ form.Cnpj.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.InscRg.id_for_label }}" class="form-label">
                                    <i class="fas fa-certificate"></i> Inscrição Estadual
                                </label>
                                {{ form.InscRg }}
                                {% if form.InscRg.errors %}
                                    <div class="text-danger">{{ form.InscRg.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Endereço -->
                        <div class="row mb-4 mt-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">
                                    <i class="fas fa-map-marker-alt"></i> Endereço
                                </h6>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="{{ form.End.id_for_label }}" class="form-label">
                                    <i class="fas fa-road"></i> Endereço
                                </label>
                                {{ form.End }}
                                {% if form.End.errors %}
                                    <div class="text-danger">{{ form.End.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Bairro.id_for_label }}" class="form-label">
                                    <i class="fas fa-map"></i> Bairro
                                </label>
                                {{ form.Bairro }}
                                {% if form.Bairro.errors %}
                                    <div class="text-danger">{{ form.Bairro.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-5 mb-3">
                                <label for="{{ form.Cidade.id_for_label }}" class="form-label">
                                    <i class="fas fa-city"></i> Cidade
                                </label>
                                {{ form.Cidade }}
                                {% if form.Cidade.errors %}
                                    <div class="text-danger">{{ form.Cidade.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-2 mb-3">
                                <label for="{{ form.Est.id_for_label }}" class="form-label">
                                    <i class="fas fa-flag"></i> Estado
                                </label>
                                <input type="text" class="form-control" name="Est" id="{{ form.Est.id_for_label }}" 
                                    list="estados-list" value="{{ form.Est.value|default:'' }}">
                                <datalist id="estados-list">
                                    <option value="AC"></option><option value="AL"></option><option value="AP"></option>
                                    <option value="AM"></option><option value="BA"></option><option value="CE"></option>
                                    <option value="DF"></option><option value="ES"></option><option value="GO"></option>
                                    <option value="MA"></option><option value="MT"></option><option value="MS"></option>
                                    <option value="MG"></option><option value="PA"></option><option value="PB"></option>
                                    <option value="PR"></option><option value="PE"></option><option value="PI"></option>
                                    <option value="RJ"></option><option value="RN"></option><option value="RS"></option>
                                    <option value="RO"></option><option value="RR"></option><option value="SC"></option>
                                    <option value="SP"></option><option value="SE"></option><option value="TO"></option>
                                </datalist>
                                {% if form.Est.errors %}
                                    <div class="text-danger">{{ form.Est.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-5 mb-3">
                                <label for="{{ form.Cep.id_for_label }}" class="form-label">
                                    <i class="fas fa-mail-bulk"></i> CEP
                                </label>
                                {{ form.Cep }}
                                {% if form.Cep.errors %}
                                    <div class="text-danger">{{ form.Cep.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Contato -->
                        <div class="row mb-4 mt-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">
                                    <i class="fas fa-phone"></i> Contato
                                </h6>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Fone.id_for_label }}" class="form-label">
                                    <i class="fas fa-phone"></i> Telefone
                                </label>
                                {{ form.Fone }}
                                {% if form.Fone.errors %}
                                    <div class="text-danger">{{ form.Fone.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Fax.id_for_label }}" class="form-label">
                                    <i class="fas fa-fax"></i> Fax
                                </label>
                                {{ form.Fax }}
                                {% if form.Fax.errors %}
                                    <div class="text-danger">{{ form.Fax.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Email.id_for_label }}" class="form-label">
                                    <i class="fas fa-envelope"></i> Email
                                </label>
                                {{ form.Email }}
                                {% if form.Email.errors %}
                                    <div class="text-danger">{{ form.Email.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.Celular1.id_for_label }}" class="form-label">
                                    <i class="fas fa-mobile-alt"></i> Celular 1
                                </label>
                                {{ form.Celular1 }}
                                {% if form.Celular1.errors %}
                                    <div class="text-danger">{{ form.Celular1.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.Celular2.id_for_label }}" class="form-label">
                                    <i class="fas fa-mobile-alt"></i> Celular 2
                                </label>
                                {{ form.Celular2 }}
                                {% if form.Celular2.errors %}
                                    <div class="text-danger">{{ form.Celular2.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Contatos -->
                        <div class="row mb-4 mt-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">
                                    <i class="fas fa-users"></i> Pessoas de Contato
                                </h6>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Contato1.id_for_label }}" class="form-label">
                                    <i class="fas fa-user"></i> Contato 1
                                </label>
                                {{ form.Contato1 }}
                                {% if form.Contato1.errors %}
                                    <div class="text-danger">{{ form.Contato1.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Contato2.id_for_label }}" class="form-label">
                                    <i class="fas fa-user"></i> Contato 2
                                </label>
                                {{ form.Contato2 }}
                                {% if form.Contato2.errors %}
                                    <div class="text-danger">{{ form.Contato2.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.Contato3.id_for_label }}" class="form-label">
                                    <i class="fas fa-user"></i> Contato 3
                                </label>
                                {{ form.Contato3 }}
                                {% if form.Contato3.errors %}
                                    <div class="text-danger">{{ form.Contato3.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Informações Adicionais -->
                        <div class="row mb-4 mt-4">
                            <div class="col-12">
                                <h6 class="text-primary border-bottom pb-2">
                                    <i class="fas fa-info-circle"></i> Informações Adicionais
                                </h6>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 mb-3">
                                <label for="{{ form.Informacao.id_for_label }}" class="form-label">
                                    <i class="fas fa-sticky-note"></i> Informações
                                </label>
                                {{ form.Informacao }}
                                {% if form.Informacao.errors %}
                                    <div class="text-danger">{{ form.Informacao.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Botões -->
                        <div class="row mt-4">
                            <div class="col-12">
                                <hr>
                                <div class="d-flex justify-content-between">
                                    <a href="{% url 'cadastros:cliente_list' %}" class="btn btn-secondary">
                                        <i class="fas fa-times"></i> Cancelar
                                    </a>
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i> {{ action }} Cliente
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}